# 中置演算子

## 概要

中置演算子を標準で搭載します。1つの括弧内では同じ演算子を連鎖できます。式中で異なる演算子を使う場合は明示的な括弧が必要です。そのため、演算子の優先順位は従来のLisp同様に存在しません。

## 中置演算子の宣言

```clojure
; --- 連鎖可能な中置演算子の宣言 ---
; left/rightによる結合方向を指定することで連鎖が可能になる
; 連鎖で適用された演算子は、二項演算のネストによる正規形に脱糖される。
(infix right ->)
(infix right ::)
(infix left |>)
(infix right <<)

; --- プレーンな中置演算子 ---
; non を指定すると、連鎖は不可
(infix non ==)
(infix non :)
(infix non <)
(infix non >)


; 例:
; --- 連鎖する場合の脱糖ルール(結合方向に従う) ---
; (1 + 2 + 3 + 4)         ==> (+ (+ (+ 1 2) 3) 4)       ; 左結合
; (x |> f |> (g a))       ==> (|> (|> x f) (g a))       ; 左結合
; (Int -> Int -> Int)     ==> (-> Int (-> Int Int))     ; 右結合
; (f << g << h)           ==> (<< f (<< g h))           ; 右結合
; (x :: xs :: [])         ==> (:: x (:: xs []))         ; 右結合

; --- プレーンの脱糖ルール ---
; (a == b)                ==> (== a b)
; (a == b == c)           ==> error
; (x : Int)               ==> (: x Int)
```
